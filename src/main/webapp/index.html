<!DOCTYPE html>
<html>
  <head>
    <title>DAV Monitor Web App</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style type="text/css">
      body, p, h1, h2 { font-family: sans-serif; }
      td { padding: 0.5em 0.5em 0.5em 0.5em; background-color: rgb(200,200,200); vertical-align: top; }
    </style>
  </head>
  <body>
    <h1>BB File System Monitor</h1>
    <p>This is a custom building block created in-house at Leeds Beckett 
      University by Jon Maber. It has multiple functions relating to the 
      management of files stored on the Blackboard Server. It live monitors
      files uploaded to the Xythos content collection and logs the uploading
      of very big files. It also includes tools to analyse and manage files in
      the 'legacy' file system.</p>
    <ul>
      <li><a href="status?setup=true">Configure this building block.</a></li>
      <li><a href="status">Technical status.</a></li>
    </ul>

    <p><a href="legacy/" style="font-weight: 700;">Browse</a> 'legacy' file system. (Includes logs from this building block.)</p>

    <h2>Legacy File System Analysis Tasks</h2>
    <table><tr><td>
    <h4>Analyse all in buckets</h4>
    <form method="POST" action="legacy/">
      <input type="hidden" name="analysis" value="yes"/>
      <p>I <input name="check" value="do not understand"/> what I'm doing.</p>
      <p><input type="submit" value="Analyse"/></p>
    </form>
    </td><td>
    <h4>Analyse Turnitin Usage</h4>
    <form method="POST" action="legacy/">
      <input type="hidden" name="turnitin" value="yes"/>
      <p>I <input name="check" value="do not understand"/> what I'm doing.</p>
      <p><input type="submit" value="Analyse"/></p>
    </form>
    </td></tr></table>
    
    <h2>Turn-it-in Direct File Pruning</h2>
    <table><tr><td>
    <h4>Prune File System Usage</h4>
    <form method="POST" action="legacy/">
      <input type="hidden" name="prune" value="yes"/>
      <p>I <input name="check" value="do not understand"/> what I'm doing.</p>
      <p><input type="submit" value="Prune"/></p>
    </form>
    </td><td>
    <h4>Unprune File System Usage</h4>
    <form method="POST" action="legacy/">
      <input type="hidden" name="unprune" value="yes"/>
      <p>I <input name="check" value="do not understand"/> what I'm doing.</p>
      <p><input type="submit" value="Unprune"/></p>
    </form>
    </td><td>
    <h4>Permanently Delete Pruned Files</h4>
    <form method="POST" action="legacy/">
      <input type="hidden" name="permanentlydelete" value="yes"/>
      <p>I <input name="check" value="do not understand"/> what I'm doing.</p>
      <p><input type="submit" value="Delete"/></p>
    </form>
    </td></tr></table>


    <h2>Xythos Content Collection Tasks</h2>
    <table><tr>
    <td>
    <h4>Analyse Auto-archives</h4>
    <form method="POST" action="xythos/">
      <input type="hidden" name="analyseautoarchives" value="yes"/>
      <p>I <input name="check" value="do not understand"/> what I'm doing.</p>
      <h5>After 00:00 on this date:</h5>
      <p>Year:<input name="year"/></p>
      <p>Month:<input name="month"/></p>
      <p>Date:<input name="date"/></p>
      <h5>Before 24:00 on this date:</h5>
      <p>Year:<input name="year2"/></p>
      <p>Month:<input name="month2"/></p>
      <p>Date:<input name="date2"/></p>
      <p><input type="submit" value="Analyse"/></p>
    </form>
    </td>
    <td>
    <h4>Analyse Deleted Auto-archives</h4>
    <form method="POST" action="xythos/">
      <input type="hidden" name="analysedeletedautoarchives" value="yes"/>
      <p>I <input name="check" value="do not understand"/> what I'm doing.</p>
      <h5>After 00:00 on this date:</h5>
      <p>Year:<input name="year"/></p>
      <p>Month:<input name="month"/></p>
      <p>Date:<input name="date"/></p>
      <h5>Before 24:00 on this date:</h5>
      <p>Year:<input name="year2"/></p>
      <p>Month:<input name="month2"/></p>
      <p>Date:<input name="date2"/></p>
      <p><input type="submit" value="Analyse"/></p>
    </form>
    </td>
    <td>
    <h4>Clear Video Metadata</h4>
    <form method="POST" action="xythos/">
      <input type="hidden" name="analysevideofiles" value="yes"/>
      <input type="hidden" name="action" value="clear"/>
      <p>I <input name="check" value="do not understand"/> what I'm doing.</p>
      <p><input type="submit" value="Clear"/></p>
    </form>
    <h4>Analyse Video Files</h4>
    <form method="POST" action="xythos/">
      <input type="hidden" name="analysevideofiles" value="yes"/>
      <input type="hidden" name="action" value="analyse"/>
      <p>I <input name="check" value="do not understand"/> what I'm doing.</p>
      <p><input type="submit" value="Analyse"/></p>
    </form>
    <h4>List Video File Data</h4>
    <form method="POST" action="xythos/">
      <input type="hidden" name="analysevideofiles" value="yes"/>
      <input type="hidden" name="action" value="list"/>
      <p>I <input name="check" value="do not understand"/> what I'm doing.</p>
      <p><input type="submit" value="List"/></p>
    </form>
    </td>
    <td>
    <h4>List Deleted Files</h4>
    <form method="POST" action="xythos/">
      <input type="hidden" name="listdeletedfiles" value="yes"/>
      <p>I <input name="check" value="do not understand"/> what I'm doing.</p>
      <p><input type="submit" value="List"/></p>
    </form>
    </td>
    </tr></table>

    <h2>Misc</h2>
    <table><tr>
    <td>
    <h4>Amazonaws S3</h4>
    <form method="POST" action="xythos/">
      <input type="hidden" name="s3" value="yes"/>
      <p>I <input name="check" value="do not understand"/> what I'm doing.</p>
      <p><input type="submit" value="S3"/></p>
    </form>
    </td>
    <td>
    <h4>Autoarchive Test</h4>
    <form method="POST" action="xythos/">
      <input type="hidden" name="aatest" value="yes"/>
      <p>I <input name="check" value="do not understand"/> what I'm doing.</p>
      <p>Path <input name="path" value="/internal/autoArchive/13219-2010_20200420/13219-2010__141606_1_MARK406 - Understanding Markets & Cust. - 13219 - TBA - 202010_1619917378775.zip"/></p>
      <p><input type="submit" value="AATest"/></p>
    </form>
    </td>
    <td>
    <h4>Video Experiment</h4>
    <form method="GET" action="execute/">
      <input type="hidden" name="execute" value="yes"/>
      <p>I really, really <input name="check" value="do not understand"/> what I'm doing.</p>
      <p><input type="submit" value="Execute"/></p>
    </form>
    </td><td>
    <h4>Test</h4>
    <form method="POST" action="legacy/">
      <input type="hidden" name="test" value="yes"/>
      <p>I <input name="check" value="do not understand"/> what I'm doing.</p>
      <p><input type="submit" value="Run Test"/></p>
    </form>
    </td>
    </tr></table>
    
  </body>
</html>
